<!DOCTYPE html>
<html lang="kor" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>mojimoji</title>
  <!-- Bootstrap -->
  <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css" th:href="@{css/bootstrap.min.css}">
  <script defer src="../static/js/bootstrap.bundle.min.js" th:src="@{js/bootstrap.bundle.min.js}"></script>
  <!-- JQuery -->
  <script th:src="@{js/jquery-3.7.1.min.js}"></script>
  <!-- Bootstrap Icons (아이콘 사용 시 필요) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" type="text/css" href="../static/css/mojimoji_main.css" th:href="@{css/mojimoji_main.css}">

  <style>
    /* Hero 섹션 */
    .hero-section {
      min-height: 90vh;
      position: relative;
      display: flex;
      align-items: center;
      padding: 3rem;
    }

    .hero-section .hero-text {
      z-index: 2;
    }

    .hero-section img.hero-bg {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      opacity: 0.9;
    }

    /* 서비스 섹션 */
    .service-section .service-icon {
      font-size: 2.5rem;
      color: #EE697D;
    }

    .service-section .service-box {
      transition: transform 0.2s ease;
      border-radius: 0.5rem;
    }

    /* "더보기" 링크 스타일 */
    .more-link {
      display: inline-flex;
      align-items: center;
      color: #333;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s ease;
    }

    .more-link:hover {
      color: #555;
    }

    /* Q&A 목록 스타일 */
    .faq-question-btn {
      width: 100%;
      text-align: left;
      background: none;
      border: none;
      font-size: 1rem;
      font-weight: 500;
      padding: 1rem 0;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #333;
      transition: background-color 0.2s ease;
    }

    .faq-question-btn:focus {
      outline: none;
    }

    .faq-question-btn:hover {
      background-color: #fafafa;
    }

    .faq-answer {
      padding: 0.75rem 1rem 1rem;
      background-color: #fff;
      border-left: 3px solid #EE697D;
      margin-bottom: 1rem;
      line-height: 1.5;
      color: #555;
    }

    .cherry_blossom {
      overflow: hidden;
      position: relative;
      background-size: cover;
      perspective: 1000px;
    }

    .cherry_blossom .petal {
      position: absolute;
      background: linear-gradient(-45deg, #ffb6c1 0%, #ffc5d0 40%, #ffdfe6 80%);
      border-radius: 10% 50% 40% 50%;
      z-index: 1;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
      pointer-events: none;
      transform-style: preserve-3d;
      transition: transform 1000ms linear;
    }

    @keyframes fall {
      0% {
        top: 0;
        opacity: 1;
      }

      80% {
        opacity: 1;
      }

      100% {
        top: 100%;
        opacity: 0.2;
      }
    }

    .reduced-size {
      margin-left: 150px;
    }
  </style>
</head>


<body>
  <!-- 네비게이션 바 -->
  <header class="fixed-top" th:insert="~{fragments/header :: header}"></header>
  <div class="cherry_blossom">

    <!-- 메인 Hero 섹션 -->
    <div class="container-fluid hero-section vh-100">
      <div class="hero-text">
        <h2 class="display-4 fw-bolder">나만의 모험 스토리로<br>한자를 즐겁게!</h2>
        <a class="btn text-white fw-bold fs-3 px-4 py-3 mt-3" style="background-color: #EE697D;"
          th:href="@{/game/play}">
          스토리 시작
        </a>
      </div>
      <!-- Hero 배경 이미지 -->
      <img th:src="@{/image/mountains.png}" src="../static/image/mountains.png" alt="배경 이미지" class="hero-bg">
    </div>
  </div>
  <!-- 서비스 섹션 (아이콘 4개) -->
  <section class="service-section py-5">
    <div class="container text-center">
      <div class="row g-4">
        <div>
          <h1 class="title-fancy fw-bolder"> 세상에 없던 한자 교육 플랫폼! </h1>
        </div>
        <div class="col-md-3">
          <div class="p-4 service-box bg-white rounded shadow-sm">
            <span class="hanja-display display-3 fw-bold">話</span>
            <h4 class="mt-3 fs-5 text-muted">한자로 흥미로운 <br> 스토리를 생성해요</h4>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-4 service-box bg-white rounded shadow-sm">
            <span class="hanja-display display-3 fw-bold">復</span>
            <h4 class="mt-3 fs-5 text-muted">사용한 한자는 <br> 퀴즈로 복습해요</h4>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-4 service-box bg-white rounded shadow-sm">
            <span class="hanja-display display-3 fw-bold">集</span>
            <h4 class="mt-3 fs-5 text-muted">나만의 한자를 <br> 예쁜 도감에 담아요</h4>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-4 service-box bg-white rounded shadow-sm">
            <span class="hanja-display display-3 fw-bold">共</span>
            <h4 class="mt-3 fs-5 text-muted">스토리를 공유하며 <br> 함께 만들어가요</h4>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 모지모지의 성과들 -->
  <section class="stats-section py-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h2 class="mb-4" font-weight: 500;>모지모지의 성과들</h2>
          <p class="lead">
            모지모지는 대체 불가능한 기술과 학습 컨텐츠로
            최고의 한자 학습 경험을 제공하기 위해 노력하고 있습니다
            저희의 성과를 확인해보세요
          </p>
        </div>
        <div class="col-md-6 text-center">
          <img th:src="@{/image/모지모지실적.png}" src="../static/image/모지모지실적.png" alt="모지모지실적"
            class="img-fluid reduced-size">
        </div>
      </div>
      <div class="row text-center mt-5">
        <div class="col-md-3">
          <h3 class="display-4 fw-bold">3만 명</h3>
          <p>모지모지 국내 가입자 수</p>
        </div>
        <div class="col-md-3">
          <h3 class="display-4 fw-bold">10만 개+</h3>
          <p>생성된 스토리 개수</p>
        </div>
        <div class="col-md-3">
          <h3 class="display-4 fw-bold">350개</h3>
          <p>1인당 한자 카드 보유 개수</p>
        </div>
        <div class="col-md-3">
          <h3 class="display-4 fw-bold">50만 장</h3>
          <p>저장된 한자 카드 수</p>
        </div>
      </div>
    </div>
  </section>

  <!-- user recommendation -->
  <section class="recommendation-section py-5">
    <div class="container text-center">
      <!-- <h1 class="mb-4">고객들이 모지모지를 ♥하는 이유</h1> -->
      <h1 class="mb-4">고객들이 모지모지를 <span class="heart">♥</span>하는 이유</h1>
      <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3500">
        <!-- Indicators/dots -->
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#testimonialCarousel" data-bs-slide-to="0" class="active"></button>
          <button type="button" data-bs-target="#testimonialCarousel" data-bs-slide-to="1"></button>
          <button type="button" data-bs-target="#testimonialCarousel" data-bs-slide-to="2"></button>
        </div>

        <!-- The slideshow/carousel -->
        <div class="carousel-inner">

          <!-- 첫 번째 슬라이드 -->
          <div class="carousel-item active">
            <div class="testimonial-box">
              <blockquote class="blockquote">
                <p class="mb-4 text-muted">
                  모지모지는 너무 멋진 한자 학습 플랫폼이에요.
                  저희 집 8살짜리 딸이 매일 모지모지로 한자 공부하고 싶다고 졸라요.
                  정말 대박이에요.
                </p>
              </blockquote>
              <div class="d-flex align-items-center justify-content-center mt-4">
                <img th:src="@{/image/학부모.png}" src="../static/image/학부모.png" alt="학부모" class="rounded-circle"
                  style="width: 80px; height: 80px; object-fit: cover;">
                <div class="ms-3">
                  <h5 class="mb-0">김희영</h5>
                  <p class="mb-0 text-muted">바른교육연구소 소장</p>
                </div>
              </div>
            </div>
          </div>

          <!-- 두 번째 슬라이드 -->
          <div class="carousel-item">
            <div class="testimonial-box">
              <blockquote class="blockquote">
                <p class="mb-4 text-muted">
                  하나의 플랫폼 안에서 스토리 생성, 한자 퀴즈, 한자 카드 수집,
                  공유를 모두 다 할 수 있다니! 저희 아들이 너무 좋아하네요.
                  별 5개 드립니다.</p>
              </blockquote>
              <div class="d-flex align-items-center justify-content-center mt-4">
                <img th:src="@{/image/선생님.png}" alt="선생님" class="rounded-circle"
                  style="width: 80px; height: 80px; object-fit: cover;">
                <div class="ms-3">
                  <h5 class="mb-0">이민영</h5>
                  <p class="mb-0 text-muted">공교육혁신위원회 부회장</p>
                </div>
              </div>
            </div>
          </div>

          <!-- 세 번째 슬라이드 -->
          <div class="carousel-item">
            <div class="testimonial-box">
              <blockquote class="blockquote">
                <p class="mb-4 text-muted">
                  요즘 저희 가족 모두 모지모지로 한자 공부해요
                  할아버지, 할머니, 아빠, 엄마, 동생 모두 모지모지 덕에
                  한자 공부가 즐거워졌대요.</p>
              </blockquote>
              <div class="d-flex align-items-center justify-content-center mt-4">
                <img th:src="@{/image/학부모2.png}" src="../static/image/학부모2.png" alt="학부모" class="rounded-circle"
                  style="width: 80px; height: 80px; object-fit: cover;">
                <div class="ms-3">
                  <h5 class="mb-0">최화영</h5>
                  <p class="mb-0 text-muted">대한한자교육협회장</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Left and right controls/icons -->
        <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon"></span>
        </button>
      </div>
    </div>


  </section>

  <section class="join_button py-5">
    <div class="container text-center text-white">
      <h2 class="mb-4">한자의 세계에 풍덩!</h2>
      <a th:href="@{/user/sign-up}" class="btn btn-warning btn-lg text-white fw-bold">모지모지 시작하기</a>
    </div>
  </section>

  <!-- FAQ 섹션 끝 -->

  <!-- Footer -->
  <footer th:insert="~{fragments/footer :: footer}"></footer>
  <script>
    // 수정된 기본 값 설정
    const defaults = {
      speed: 12,       // 낙하 속도 (숫자 클수록 빨라짐)
      maxSize: 25,     // 꽃잎 최대 크기
      minSize: 10,     // 꽃잎 최소 크기
      newOn: 200       // 꽃잎 생성 주기 (ms), 작을수록 더 자주 생성
    };

    // 벚꽃 영역 크기를 저장할 변수
    var $wrap = $('.cherry_blossom');
    let wrapH = $wrap.height();
    let wrapW = $wrap.width();

    // 벚꽃 잎 생성
    const $petal = $('<span class="petal"></span>');

    // 랜덤 회전 값을 생성하는 함수
    const getRandomRotate = () => {
      const rotateX = 360;
      const rotateY = Math.random() * 60 - 30;
      const rotateZ = Math.random() * 120 - 30;
      const translateX = Math.random() * 10 - 5;
      const translateY = Math.random() * 10 - 10;
      const translateZ = Math.random() * 15;
      return `rotateX(${rotateX}deg) rotateY(${rotateY}deg) rotateZ(${rotateZ}deg) 
          translateX(${translateX}px) translateY(${translateY}px) translateZ(${translateZ}px)`;
    };

    // 무작위 흔들림 애니메이션 배열 생성
    const randomSwayAnims = [...Array(10)].map(getRandomRotate);

    // 특정 요소에 흔들림 애니메이션 적용
    const applySwayAnim = (element) => {
      const randomSway = randomSwayAnims[Math.floor(Math.random() * randomSwayAnims.length)];
      element.css('transform', randomSway);
      setTimeout(() => {
        applySwayAnim(element);
      }, 1000);
    };

    // 벚꽃 잎 생성 함수
    const petalGen = () => {
      // 일정 간격마다 재귀 호출
      setTimeout(requestAnimationFrame, defaults.newOn, petalGen);

      const petal = $petal.clone();
      const size = Math.floor(Math.random() * (defaults.maxSize - defaults.minSize + 1)) + defaults.minSize;
      const startPosLeft = Math.random() * wrapW;
      const fallTime = (wrapH * 0.1 + Math.random() * 5) / defaults.speed;
      // 가로 흔들림 범위를 ±2로 확장
      const horizontalOffset = Math.random() * 4 - 2;

      // 애니메이션 끝나면 제거
      petal.on('animationend', () => {
        petal.remove();
      }).css({
        width: size,
        height: size,
        left: startPosLeft,
        position: 'absolute',
        // 기존 linear 대신 ease-in-out로 변경
        animation: `fall ${fallTime}s ease-in-out`
      }).appendTo($wrap);

      // 위치 업데이트 함수
      const updatePos = () => {
        petal.css('left', `+=${horizontalOffset}`);
        requestAnimationFrame(updatePos);
      };

      updatePos();
      applySwayAnim(petal);
    };

    // 창 크기가 변경될 때 영역 크기 업데이트
    $(window).resize(() => {
      wrapH = $wrap.height();
      wrapW = $wrap.width();
    });

    // 로딩 완료 후 벚꽃 잎 생성 시작
    $(window).on('load', () => {
      requestAnimationFrame(petalGen);
    });
  </script>
</body>

</html>